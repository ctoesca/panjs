<html>        
  <head>

    <script data-subtype="text/x-class-definition">

//<![CDATA[      

defineClass("TsimpleGridDemo", "panjs.ui.demo.TbaseDemo.html", { 

  baseElement: "div", 
      
  constructor: function(args){
      this._super.constructor.call(this,args);       

      var columns = [
        { field: "id" , visible: true, sortable:true, title:"ID"},
        { field: "prenom" , visible: true, sortable:true, title:"Prénom"},
        { field: "nom" , visible: true, sortable:true, title:"Nom"}     
      ];

      this.grid1.addCols(columns);
      this.grid2.addCols(columns);

      var data = [
        {id: 1, prenom:"Denis", nom:"Barre", sexe:"homme"},
        {id: 2, prenom:"Gordon", nom:"Zola", sexe:"homme"},
        {id: 3, prenom:"Ella", nom:"Lapêche", sexe:"femme"}
      ];
      var dataprovider = new TarrayCollection( data );
      this.grid1.setDataProvider( dataprovider );
      this.grid2.setDataProvider( dataprovider );


      var renderSexe = function(data, datafield){
         var r = "?";
         if (data.sexe == "homme")
           r = '<i class="fa fa-female"/>';
         else if (data.sexe == "femme")
           r = '<i class="fa fa-male"/>';
         return r;
      }

      /* ajout de la colonne "sexe":*/
      this.grid2.addCols([
        {field: "sexe", visible: true, width:"50px", sortable:true, title: "Sexe", functionRenderer: renderSexe }
        ]);

      /* prise en compte de l'ajout */
      this.grid2.refresh();


  }

});
//]]>
</script>

</head>
<body>

            
            <h3>La grille est mise dans un composant HTML</h3>
            <pre><code class="language-html hljs xml">&lt;div data-compo="panjs.ui.grids.TsimpleGrid.html" /&gt;</code></pre>         
            
            <h3>Configuration de la grille</h3>
            <p>On ajoute des colonnes. Chaque colonne correspond à une propriété des objets de la source de données.</p>

            <pre><code class="language-javascript hljs ">var columns = [
    { field: "id" , visible: true, sortable:true, title:"ID"},
    { field: "prenom" , visible: true, sortable:true, title:"Prénom"},
    { field: "nom" , visible: true, sortable:true, title:"Nom"}     
];

this.grid.addCols(columns);</code></pre>         


            <h3>Ajout d'une collection de données</h3>
             <pre><code class="language-javascript hljs ">var data = [
  {id: 1, prenom:"Denis", nom:"Barre", sexe:"homme"},
  {id: 2, prenom:"Gordon", nom:"Zola", sexe:"homme"},
  {id: 3, prenom:"Ella", nom:"Lapêche", sexe:"femme"}
];
var dataprovider = new TarrayCollection( data );
this.grid.setDataProvider( dataprovider );</code></pre>


            <div id="grid1" data-compo="panjs.ui.grids.TsimpleGrid.html"></div>
            
            <h3>Ajout de colonnes dynamiquement et utilisation de functionRenderer</h3>

            <pre><code class="language-javascript hljs ">/* on veut affecter un renderer de type "function" sur la colonne */
var renderSexe = function(data, datafield){
   var r = "?";
   if (data.sexe == "homme")
     r = '&lt;i class="fa fa-female"/&gt;';
   else if (data.sexe == "femme")
     r = '&lt;i class="fa fa-male"/&gt;';
   return r;
}

/* ajout de la colonne "sexe":*/
this.grid.addCols([
  {field: "sexe", visible: true, width:"50px", sortable:true, title: "Sexe", functionRenderer: renderSexe }
  ]);

/* prise en compte de l'ajout */
this.grid.refresh();</code></pre>

          <div id="grid2" data-compo="panjs.ui.grids.TsimpleGrid.html"></div>
   



</body>
</html> 