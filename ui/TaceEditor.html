<html>        
<head>
<script src="/libs/ace/1.1.3/src-min-noconflict/ace.js"></script>
<script src="/libs/ace/1.1.3/src-min-noconflict/worker-html.js"></script>
<script src="/libs/ace/1.1.3/src-min-noconflict/mode-html.js"></script>
<script src="/libs/ace/1.1.3/src-min-noconflict/mode-javascript.js"></script>
<script src="/libs/ace/1.1.3/src-min-noconflict/theme-ambiance.js"></script>


<style type="text/less">
.TaceEditor{
	
	.editor{
 		position: relative;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        height:600px;
	}
}
</style>

<script data-subtype="text/x-class-definition">
//<![CDATA[
    
defineClass("TaceEditor", "panjs.core.display.Telement", { 

	baseElement: "div",		
	readOnly: false,
	mode: "javascript",
	height: null,

	constructor: function(args){
		this._super.constructor.call(this,args);
     
     	if (defined(args, "height"))
     		this.height = args.height;

     	if (defined(args, "mode"))
     		this.mode = args.mode;

		if (this.mode == "html")
			this.mode = "xml";

		

		if (defined(args, "style"))
			this.container.attr("style", args.style);

		this.editor = ace.edit(this.editorElem[0]);
		//this.editor.setOptions( {maxLines: 30});

		/*if (this.height != null)*/
		//this.editor.css("height", "700px");
		//this.editor.resize();

    	this.editor.setTheme("ace/theme/ambiance");
    	this.editor.getSession().setMode("ace/mode/"+this.mode);
		this.editorElem.css("height", "700px");
			
	},
	setSource: function(v)
	{
		this.editor.setValue(v+"\n");
		//this.container.getElement(".ace_scrollbar-v").css("overflow-y", "hidden");

	},
	getSource: function(){
		return this.editor.getValue();
	}
	

	
});

//]]>
</script>

</head>

<body>	 

<div id="editorElem" class="editor"></div>

</body>
</html>

