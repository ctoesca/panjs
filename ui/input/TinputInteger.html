<html>        
<head>

<style type="text/less">	
.TinputInteger
{
}
</style>

<script type="text/x-class-definition">
//<![CDATA[
              
defineClass("TinputInteger", "ui.input.TmaskInput.html", { 

	/* PROPRIETES */
	errorText: "Nombre entier positif attendu",
	mask: /^[0-9]+$/,
	min: -200000000,
	max: +200000000,

	constructor: function(args){
		this._super.constructor.call(this,args);
		if (typeof args.max != "undefined")
			this.max = parseInt(args.max);
		if (typeof args.min != "undefined")
			this.min = parseInt(args.min);

		if (panjs.iever != 8)
		this.input.attr("type", "number");

	},
	
	isCharAccepted: function(evt)
	{
		return isNumberKey(evt) || isControlKey(evt);
	},

	isCorrectValue: function()
	{
		var isOk = this._super.isCorrectValue.call(this);
		if (isOk)
		{
			//nombre nÃ©gatifs

			var v = this.input.val();
			if (v.trim() == ""){
				isOk = false;
			}
			else{
				v = parseInt(v);
				if ((this.min != null) && (v < this.min))
					isOk = false;
				if ((this.max != null) && (v > this.max))
					isOk = false;	
			}
		}
		return isOk;
	},
	getFormatedVal: function()
	{
		var r = this.input.val();

		if (this.isCorrectValue())
		{
			if (r != "")
			r = parseInt(r);
			else
			r = null;
		}
		
		return r;
	}
});
//]]>
</script>

</head>

</html> 