<html>        
<head>

<style type="text/less">	
.TinputNumber
{
}
</style>

<script data-subtype="text/x-class-definition">
//<![CDATA[
              
defineClass("TinputNumber", "panjs.ui.input.TmaskInput.html", { 

	/* PROPRIETES */
	errorText: "Nombre attendu",
	mask: /^[0-9]+(.|,)?[0-9]?$/,
	
	constructor: function(args){
		this._super.constructor.call(this,args);
	},
	
	isCharAccepted: function(evt)
	{
		var k = evt.which;
		var shift = evt.shiftKey;

		var isDecimal = ( ((k==59)&&(shift==true)) || (k == 188) || (k==110));
		
		return isNumberKey(evt) || isControlKey(evt) || isDecimal;
	},

	isCorrectValue: function()
	{
		var isOk = this._super.isCorrectValue.call(this);

		return isOk;
	},
	getFormatedVal: function()
	{
		var r = this.input.val();
		r = r.replace(/,/g, ".");
		
		if (this.isCorrectValue())
		{
		
			if (r != "")
			r = parseFloat(r);
			else
			r = null;
		}
		
		return r;
	}
});
//]]>
</script>

</head>

</html> 