<html>        
  <head>
    <style type="text/css">
    .TtestButton{
      background-color: #d9edf7;
      border: 1px solid #bce8f1;
      border-radius: 4px;
      padding:5px;
    }
    .TtestButton .result{
      font-weight: bold;  
    }
    .TtestButton .result.failure{
       color: #d9534f; 
    }
    .TtestButton .result.success{
      color: #5cb85c;
    }  
    </style>

    <script subtype="text/x-class-definition">

      //<![CDATA[      

      defineClass("TtestButton", "core.display.Telement", { 

      	baseElement: "div",	
        clickCount:0,

        constructor: function(args){
          this._super.constructor.call(this,args); 
          this.compoClass.text(this.className);
          this.btnSubmit.on("click", this.onSubmit.bind(this));
       	},

        onSubmit: function()
        {
          this.clickCount ++;
          if (this.clickCount < 3)
            this.onFailure();
          else
            this.onSuccess(); 
        },

        onFailure: function(){
          this.result.addClass("failure").removeClass("success");
          this.result.html("You have clicked only "+this.clickCount+" times");
        },
            
        onSuccess: function(){
          this.result.addClass("success").removeClass("failure");         
          this.result.html("Great! You have clicked "+this.clickCount+" times");
        },
      });
      //]]>
    </script>

  </head>
  <body>
      <p><code id="compoClass"></code> component</p>
      <a type="submit" id="btnSubmit" class="btn btn-danger">Click here</a>
      <span id="result" class="result"></span>
  </body>
</html>	