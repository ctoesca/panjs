<html>        
<head>

<script src="./bootstrap-notify.js"/>
<!--<link href="./alert-bangtidy.css" rel="stylesheet"/>-->

<style type="text/css">

.Tnotify .notifications {
	  position: fixed;
	}

	/* Positioning */ 
.Tnotify .notifications.top-right {
	  right: 10px;
	  top: 55px;
	}

.Tnotify .notifications.top-left {
	  left: 10px;
	  top: 55px;
	}

.Tnotify .notifications.bottom-left {
	  left: 10px;
	  bottom: 25px;
	}

.Tnotify .notifications.bottom-right {
	  right: 10px;
	  bottom: 25px;
	}

	/* Notification Element */
.Tnotify .notifications > div {
	  position: relative;
	  z-index: 999999;
	  margin: 5px 0px;
}

</style>

<script type="text/x-class-definition">
//<![CDATA[

TnotifyPosition = function(){};
TnotifyPosition.TOP_LEFT = "top-left";
TnotifyPosition.TOP_RIGHT = "top-right";
TnotifyPosition.BOTTOM_LEFT = "bottom-left";
TnotifyPosition.BOTTOM_RIGHT = "bottom-right";

defineClass("Tnotify", "core.display.Telement", { 

	baseElement: "div",
	message: "",
	closehandler: null,
	defaultPosition: TnotifyPosition.TOP_RIGHT,
	position: null,
	type: 'success',

	constructor: function(args){ 
		
		
		this._super.constructor.call(this,args);	
		
		this.injectParam("message", args.message,false, this.message);	
		this.injectParam("closehandler", args.closehandler,false, null);
		this.injectParam("position", args.closehandler,false, this.defaultPosition);	
		this.injectParam("type", args.type,false, this.type);	



	},	

	show: function()
	{
	
		this.notifyElem.addClass(this.position);
		$(document.body).append(this.container);

		this.notifyElem.notify({
    		message: { html: this.message +" "} ,
    		onClosed: this._onClose.bind(this),
    		transition: "fade",
    		type:this.type
  		}).show();
	},
	_onClose: function(e)
	{
		logger.debug('_onClose');
		if (this.closehandler != null)
			this.closehandler(this);
	},
	_onHide: function()
	{
		logger.debug('Tnotify._onHide');
	},

	getCloseEvent: function(action)
	{
		var evt =  new Tevent(Tevent.CLOSE);
	},

	close: function(e, action)
	{	
	}
});



Tnotify.show = function(message, closehandler, position, type)
{
	if (arguments.length<4)
	 	var type = 'success';
	 
	var n = new Tnotify({type: type, message: message, closehandler: closehandler||null, position: position||TnotifyPosition.TOP_RIGHT});
	n.show();
	return n;
}
Tnotify.success = function(message, closehandler, position)
{
	var n = new Tnotify({type:'success', message: message, closehandler: closehandler||null, position: position||TnotifyPosition.TOP_RIGHT});
	n.show();
	return n;
}
Tnotify.error = function(message, closehandler, position)
{
	var n = new Tnotify({type:'danger', message: message, closehandler: closehandler||null, position: position||TnotifyPosition.TOP_RIGHT});
	n.show();
	return n;
}
//]]>
</script>

</head>
<body>		 

	 <div id="notifyElem" class="notifications"></div>

</body>
</html> 
